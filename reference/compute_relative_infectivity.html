<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate the relative infectivity of infectious individuals — compute_relative_infectivity • projections</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate the relative infectivity of infectious individuals — compute_relative_infectivity"><meta property="og:description" content="This function calculates the relative infectivity of infectious indiviuals at
time \(t+1\), generated by cases with onset at time 1, 2, ..., t. The
relative infectivity of an individual on a given day is defined as the
probability that new infections generated by this individual show symptoms on
that day, and is defined by the serial interval distribution. The function
sums these values across all infected individuals (see details for more
information). Calculations use matrices where independent simulations are
stored as separate columns."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">projections</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/reconhub/projections/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate the relative infectivity of infectious individuals</h1>
    <small class="dont-index">Source: <a href="https://github.com/reconhub/projections/blob/HEAD/R/compute_relative_infectivity.R" class="external-link"><code>R/compute_relative_infectivity.R</code></a></small>
    <div class="hidden name"><code>compute_relative_infectivity.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function calculates the relative infectivity of infectious indiviuals at
time \(t+1\), generated by cases with onset at time 1, 2, ..., t. The
relative infectivity of an individual on a given day is defined as the
probability that new infections generated by this individual show symptoms on
that day, and is defined by the serial interval distribution. The function
sums these values across all infected individuals (see details for more
information). Calculations use matrices where independent simulations are
stored as separate columns.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_relative_infectivity</span><span class="op">(</span><span class="va">w</span>, <span class="va">cases</span>, <span class="va">t</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>w</dt>
<dd><p>a <code>numeric</code> containing numbers representing the PMF of the serial
interval, starting at day 1, i.e. one day after symptom onset; the vector
should always be at least as long as the largest value of <code>t</code> allowed</p></dd>


<dt>cases</dt>
<dd><p>a <code>matrix</code> of <code>integers</code> with <code>t</code> rows (each row is a date) and
<code>n_sim</code> columns (each column is a separate simulation) indicating number of
cases on a given day, in a given simulation</p></dd>


<dt>t</dt>
<dd><p>an <code>integer</code> indicating the simulation step: incidence will then be
computed for <code>t+1</code> taking into account past cases and R from time point <code>1</code>
until <code>t</code></p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The relative infectivity for \(i=1,...n\) individuals at time \(t+1\) is
defined as:</p>
<p>$$ \sum_{i = 1}^n w(t - t_i) $$</p>
<p>where \(w(.)\) is the PMF of the serial interval distribution and \(t_i\) is the
date of onset of case <em>i</em>.</p>
<p>This is equivalent to:</p>
<p>$$
  \sum_{s=1}^t y_s w(s - t_i)
$$</p>
<p>where \(y_s\) is the number of new cases at time <em>s</em>. This latter
formulation is the one used in the function.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="compute_force_infection">compute_force_infection</a> does a similar
thing, but also factors in the reproduction numbers of all individuals,
resulting in an estimate of average number of new cases at <code>t+1</code>.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Thibaut Jombart, with inputs from Anne Cori and Pierre Nouvellet</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Thibaut Jombart, Pierre Nouvellet.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

